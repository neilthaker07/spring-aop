package edu.sjsu.cmpe275.aop.aspect;

import java.nio.file.AccessDeniedException;

import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;

@Aspect
public class AuthorizationAspect 
{
	@Before("execution(* readBlog(..)) && args(userId, blogUserId)")
	public void reading(JoinPoint joinPoint, String userId, String blogUserId)
	{
		if(!userId.equals(blogUserId) )
		{
			try {
				throw new AccessDeniedException("Blog not for reading");
			} catch (AccessDeniedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}
	
	@Before("execution(* shareBlog(..)) && args(userId, blogUserId, targetUserId)")
	public void sharing(JoinPoint joinPoint, String userId, String blogUserId, String targetUserId)
	{
		if(!userId.equals(blogUserId))
		{
			
		}
		
		
	}
	
}
